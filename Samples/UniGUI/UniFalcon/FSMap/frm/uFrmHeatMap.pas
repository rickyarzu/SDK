unit uFrmHeatMap;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics,
  Controls, Forms, uniGUITypes, uniGUIAbstractClasses,
  uniGUIClasses, uniGUIFrame, uniButton, uniBitBtn, UniFSButton, uniBasicGrid,
  uniDBGrid, uniPanel, uniGUIBaseClasses, uniHTMLFrame, UniFSMap, Data.DB,
  Datasnap.DBClient, uniLabel, uniEdit;

type
  TfrmHeatMap = class(TUniFrame)
    CDS: TClientDataSet;
    strngfldCDSLat: TStringField;
    strngfldCDSLongitude: TStringField;
    map: TUniFSMap;
    pnlControle: TUniPanel;
    dbg: TUniDBGrid;
    pnl1: TUniPanel;
    btnCriaHeatMap: TUniFSButton;
    DS: TDataSource;
    edtOpacity: TUniNumberEdit;
    lbl1: TUniLabel;
    procedure UniFrameCreate(Sender: TObject);
    procedure btnCriaHeatMapClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

implementation

uses
  ServerModule;

{$R *.dfm}

procedure TfrmHeatMap.btnCriaHeatMapClick(Sender: TObject);
var
  PointHeatMap: TPointHeatMap;
begin
  map.DeleteAllPointHeatMap;

  CDS.DisableControls;
  try
    CDS.First;
    while not CDS.Eof do
    begin
      PointHeatMap := TPointHeatMap.Create;
      PointHeatMap.Lat := CDS.FieldByName('Latitude').AsString;
      PointHeatMap.Lng := CDS.FieldByName('Longitude').AsString;

      map.AddPointHeatMap(PointHeatMap);
      CDS.Next;
    end;

    map.ShowHeatMap;
    map.SetOpacityHeatMap(edtOpacity.Value);
  finally
    CDS.EnableControls;
  end;
end;

procedure TfrmHeatMap.UniFrameCreate(Sender: TObject);
begin
  Self.Align := alClient;

  CDS.CreateDataSet;
  CDS.AppendRecord(['37.782551', '-122.445368']);
  CDS.AppendRecord(['37.782745', '-122.444586']);
  CDS.AppendRecord(['37.782842', '-122.443688']);
  CDS.AppendRecord(['37.782919', '-122.442815']);
  CDS.AppendRecord(['37.782992', '-122.442112']);
  CDS.AppendRecord(['37.7831', '-122.441461']);
  CDS.AppendRecord(['37.783206', '-122.440829']);
  CDS.AppendRecord(['37.783273', '-122.440324']);
  CDS.AppendRecord(['37.783316', '-122.440023']);
  CDS.AppendRecord(['37.783357', '-122.439794']);
  CDS.AppendRecord(['37.783371', '-122.439687']);
  CDS.AppendRecord(['37.783368', '-122.439666']);
  CDS.AppendRecord(['37.783383', '-122.439594']);
  CDS.AppendRecord(['37.783508', '-122.439525']);
  CDS.AppendRecord(['37.783842', '-122.439591']);
  CDS.AppendRecord(['37.784147', '-122.439668']);
  CDS.AppendRecord(['37.784206', '-122.439686']);
  CDS.AppendRecord(['37.784386', '-122.43979']);
  CDS.AppendRecord(['37.784701', '-122.439902']);
  CDS.AppendRecord(['37.784965', '-122.439938']);
  CDS.AppendRecord(['37.78501', '-122.439947']);
  CDS.AppendRecord(['37.78536', '-122.439952']);
  CDS.AppendRecord(['37.785715', '-122.44003']);
  CDS.AppendRecord(['37.786117', '-122.440119']);
  CDS.AppendRecord(['37.786564', '-122.440209']);
  CDS.AppendRecord(['37.786905', '-122.44027']);
  CDS.AppendRecord(['37.786956', '-122.440279']);
  CDS.AppendRecord(['37.800224', '-122.43352']);
  CDS.AppendRecord(['37.800155', '-122.434101']);
  CDS.AppendRecord(['37.80016', '-122.43443']);
  CDS.AppendRecord(['37.800378', '-122.434527']);
  CDS.AppendRecord(['37.800738', '-122.434598']);
  CDS.AppendRecord(['37.800938', '-122.43465']);
  CDS.AppendRecord(['37.801024', '-122.434889']);
  CDS.AppendRecord(['37.800955', '-122.435392']);
  CDS.AppendRecord(['37.800886', '-122.435959']);
  CDS.AppendRecord(['37.800811', '-122.436275']);
  CDS.AppendRecord(['37.800788', '-122.436299']);
  CDS.AppendRecord(['37.800719', '-122.436302']);
  CDS.AppendRecord(['37.800702', '-122.436298']);
  CDS.AppendRecord(['37.800661', '-122.436273']);
  CDS.AppendRecord(['37.800395', '-122.436172']);
  CDS.AppendRecord(['37.800228', '-122.436116']);
  CDS.AppendRecord(['37.800169', '-122.43613']);
  CDS.AppendRecord(['37.800066', '-122.436167']);
  CDS.AppendRecord(['37.784345', '-122.422922']);
  CDS.AppendRecord(['37.784389', '-122.422926']);
  CDS.AppendRecord(['37.784437', '-122.422924']);
  CDS.AppendRecord(['37.784746', '-122.422818']);
  CDS.AppendRecord(['37.785436', '-122.422959']);
  CDS.AppendRecord(['37.78612', '-122.423112']);
  CDS.AppendRecord(['37.786433', '-122.423029']);
  CDS.AppendRecord(['37.786631', '-122.421213']);
  CDS.AppendRecord(['37.78666', '-122.421033']);
  CDS.AppendRecord(['37.786801', '-122.420141']);
  CDS.AppendRecord(['37.786823', '-122.420034']);
  CDS.AppendRecord(['37.786831', '-122.419916']);
  CDS.AppendRecord(['37.787034', '-122.418208']);
  CDS.AppendRecord(['37.787056', '-122.418034']);
  CDS.AppendRecord(['37.787169', '-122.417145']);
  CDS.AppendRecord(['37.787217', '-122.416715']);
  CDS.AppendRecord(['37.786144', '-122.416403']);
  CDS.AppendRecord(['37.785292', '-122.416257']);
  CDS.AppendRecord(['37.780666', '-122.390374']);
  CDS.AppendRecord(['37.780501', '-122.391281']);
  CDS.AppendRecord(['37.780148', '-122.392052']);
  CDS.AppendRecord(['37.780173', '-122.391148']);
  CDS.AppendRecord(['37.780693', '-122.390592']);
  CDS.AppendRecord(['37.781261', '-122.391142']);
  CDS.AppendRecord(['37.781808', '-122.39173']);
  CDS.AppendRecord(['37.78234', '-122.392341']);
  CDS.AppendRecord(['37.782812', '-122.393022']);
  CDS.AppendRecord(['37.7833', '-122.393672']);
  CDS.AppendRecord(['37.783809', '-122.394275']);
  CDS.AppendRecord(['37.784246', '-122.394979']);
  CDS.AppendRecord(['37.784791', '-122.395958']);
  CDS.AppendRecord(['37.785675', '-122.396746']);
  CDS.AppendRecord(['37.786262', '-122.39578']);
  CDS.AppendRecord(['37.786776', '-122.395093']);
  CDS.AppendRecord(['37.787282', '-122.394426']);
  CDS.AppendRecord(['37.787783', '-122.393767']);
  CDS.AppendRecord(['37.788343', '-122.393184']);
  CDS.AppendRecord(['37.788895', '-122.392506']);
  CDS.AppendRecord(['37.789371', '-122.391701']);
  CDS.AppendRecord(['37.789722', '-122.390952']);
  CDS.AppendRecord(['37.790315', '-122.390305']);
  CDS.AppendRecord(['37.790738', '-122.389616']);
  CDS.AppendRecord(['37.779448', '-122.438702']);
  CDS.AppendRecord(['37.779023', '-122.438585']);
  CDS.AppendRecord(['37.778542', '-122.438492']);
  CDS.AppendRecord(['37.7781', '-122.438411']);
  CDS.AppendRecord(['37.777986', '-122.438376']);
  CDS.AppendRecord(['37.77768', '-122.438313']);
  CDS.AppendRecord(['37.777316', '-122.438273']);
  CDS.AppendRecord(['37.777135', '-122.438254']);
  CDS.AppendRecord(['37.776987', '-122.438303']);
  CDS.AppendRecord(['37.776946', '-122.438404']);
  CDS.AppendRecord(['37.776944', '-122.438467']);
  CDS.AppendRecord(['37.776892', '-122.438459']);
  CDS.AppendRecord(['37.776842', '-122.438442']);
  CDS.AppendRecord(['37.776822', '-122.438391']);
  CDS.AppendRecord(['37.776814', '-122.438412']);
  CDS.AppendRecord(['37.776787', '-122.438628']);
  CDS.AppendRecord(['37.776729', '-122.43865']);
  CDS.AppendRecord(['37.776759', '-122.438677']);
  CDS.AppendRecord(['37.776772', '-122.438498']);
  CDS.AppendRecord(['37.776787', '-122.438389']);
  CDS.AppendRecord(['37.776848', '-122.438283']);
  CDS.AppendRecord(['37.77687', '-122.438239']);
  CDS.AppendRecord(['37.777015', '-122.438198']);
  CDS.AppendRecord(['37.777333', '-122.438256']);
  CDS.AppendRecord(['37.777595', '-122.438308']);
  CDS.AppendRecord(['37.777797', '-122.438344']);
  CDS.AppendRecord(['37.77816', '-122.438442']);
  CDS.AppendRecord(['37.778414', '-122.438508']);
  CDS.AppendRecord(['37.778445', '-122.438516']);
  CDS.AppendRecord(['37.778503', '-122.438529']);
  CDS.AppendRecord(['37.778607', '-122.438549']);
  CDS.AppendRecord(['37.77867', '-122.438644']);
  CDS.AppendRecord(['37.778847', '-122.438706']);
  CDS.AppendRecord(['37.77924', '-122.438744']);
  CDS.AppendRecord(['37.779738', '-122.438822']);
  CDS.AppendRecord(['37.780201', '-122.438882']);
  CDS.AppendRecord(['37.7804', '-122.438905']);
  CDS.AppendRecord(['37.780501', '-122.438921']);
  CDS.AppendRecord(['37.780892', '-122.438986']);
  CDS.AppendRecord(['37.781446', '-122.439087']);
  CDS.AppendRecord(['37.781985', '-122.439199']);
  CDS.AppendRecord(['37.782239', '-122.439249']);
  CDS.AppendRecord(['37.782286', '-122.439266']);
  CDS.AppendRecord(['37.797847', '-122.429388']);
  CDS.AppendRecord(['37.797874', '-122.42918']);
  CDS.AppendRecord(['37.797885', '-122.429069']);
  CDS.AppendRecord(['37.797887', '-122.42905']);
  CDS.AppendRecord(['37.797933', '-122.428954']);
  CDS.AppendRecord(['37.798242', '-122.42899']);
  CDS.AppendRecord(['37.798617', '-122.429075']);
  CDS.AppendRecord(['37.798719', '-122.429092']);
  CDS.AppendRecord(['37.798944', '-122.429145']);
  CDS.AppendRecord(['37.79932', '-122.429251']);
  CDS.AppendRecord(['37.79959', '-122.429309']);
  CDS.AppendRecord(['37.799677', '-122.429324']);
  CDS.AppendRecord(['37.799966', '-122.42936']);
  CDS.AppendRecord(['37.800288', '-122.42943']);
  CDS.AppendRecord(['37.800443', '-122.429461']);
  CDS.AppendRecord(['37.800465', '-122.429474']);
  CDS.AppendRecord(['37.800644', '-122.42954']);
  CDS.AppendRecord(['37.800948', '-122.42962']);
  CDS.AppendRecord(['37.801242', '-122.429685']);
  CDS.AppendRecord(['37.801375', '-122.429702']);
  CDS.AppendRecord(['37.8014', '-122.429703']);
  CDS.AppendRecord(['37.801453', '-122.429707']);
  CDS.AppendRecord(['37.801473', '-122.429709']);
  CDS.AppendRecord(['37.801532', '-122.429707']);
  CDS.AppendRecord(['37.801852', '-122.429729']);
  CDS.AppendRecord(['37.802173', '-122.429789']);
  CDS.AppendRecord(['37.802459', '-122.429847']);
  CDS.AppendRecord(['37.802554', '-122.429825']);
  CDS.AppendRecord(['37.802647', '-122.429549']);
  CDS.AppendRecord(['37.802693', '-122.429179']);
  CDS.AppendRecord(['37.802729', '-122.428751']);
  CDS.AppendRecord(['37.766104', '-122.409291']);
  CDS.AppendRecord(['37.766103', '-122.409268']);
  CDS.AppendRecord(['37.766138', '-122.409229']);
  CDS.AppendRecord(['37.766183', '-122.409231']);
  CDS.AppendRecord(['37.766153', '-122.409276']);
  CDS.AppendRecord(['37.766005', '-122.409365']);
  CDS.AppendRecord(['37.765897', '-122.40957']);
  CDS.AppendRecord(['37.765767', '-122.409739']);
  CDS.AppendRecord(['37.765693', '-122.410389']);
  CDS.AppendRecord(['37.765615', '-122.411201']);
  CDS.AppendRecord(['37.765533', '-122.412121']);
  CDS.AppendRecord(['37.765467', '-122.412939']);
  CDS.AppendRecord(['37.765444', '-122.414821']);
  CDS.AppendRecord(['37.765444', '-122.414964']);
  CDS.AppendRecord(['37.765318', '-122.415424']);
  CDS.AppendRecord(['37.763961', '-122.415296']);
  CDS.AppendRecord(['37.763115', '-122.415196']);
  CDS.AppendRecord(['37.762967', '-122.415183']);
  CDS.AppendRecord(['37.762278', '-122.415127']);
  CDS.AppendRecord(['37.761675', '-122.415055']);
  CDS.AppendRecord(['37.760932', '-122.414988']);
  CDS.AppendRecord(['37.759337', '-122.414862']);
  CDS.AppendRecord(['37.773187', '-122.421922']);
  CDS.AppendRecord(['37.773043', '-122.422118']);
  CDS.AppendRecord(['37.773007', '-122.422165']);
  CDS.AppendRecord(['37.772979', '-122.422219']);
  CDS.AppendRecord(['37.772865', '-122.422394']);
  CDS.AppendRecord(['37.772779', '-122.422503']);
  CDS.AppendRecord(['37.772676', '-122.422701']);
  CDS.AppendRecord(['37.772606', '-122.422806']);
  CDS.AppendRecord(['37.772566', '-122.42284']);
  CDS.AppendRecord(['37.772508', '-122.422852']);
  CDS.AppendRecord(['37.772387', '-122.423011']);
  CDS.AppendRecord(['37.772099', '-122.423328']);
  CDS.AppendRecord(['37.771704', '-122.423783']);
  CDS.AppendRecord(['37.771481', '-122.424081']);
  CDS.AppendRecord(['37.7714', '-122.424179']);
  CDS.AppendRecord(['37.771352', '-122.42422']);
  CDS.AppendRecord(['37.771248', '-122.424327']);
  CDS.AppendRecord(['37.770904', '-122.424781']);
  CDS.AppendRecord(['37.77052', '-122.425283']);
  CDS.AppendRecord(['37.770337', '-122.425553']);
  CDS.AppendRecord(['37.770128', '-122.425832']);
  CDS.AppendRecord(['37.769756', '-122.426331']);
  CDS.AppendRecord(['37.7693', '-122.426902']);
  CDS.AppendRecord(['37.769132', '-122.427065']);
  CDS.AppendRecord(['37.769092', '-122.427103']);
  CDS.AppendRecord(['37.768979', '-122.427172']);
  CDS.AppendRecord(['37.768595', '-122.427634']);
  CDS.AppendRecord(['37.768372', '-122.427913']);
  CDS.AppendRecord(['37.768337', '-122.427961']);
  CDS.AppendRecord(['37.768244', '-122.428138']);
  CDS.AppendRecord(['37.767942', '-122.428581']);
  CDS.AppendRecord(['37.767482', '-122.429094']);
  CDS.AppendRecord(['37.767031', '-122.429606']);
  CDS.AppendRecord(['37.766732', '-122.429986']);
  CDS.AppendRecord(['37.76668', '-122.430058']);
  CDS.AppendRecord(['37.766633', '-122.430109']);
  CDS.AppendRecord(['37.76658', '-122.430211']);
  CDS.AppendRecord(['37.766367', '-122.430594']);
  CDS.AppendRecord(['37.76591', '-122.431137']);
  CDS.AppendRecord(['37.765353', '-122.431806']);
  CDS.AppendRecord(['37.764962', '-122.432298']);
  CDS.AppendRecord(['37.764868', '-122.432486']);
  CDS.AppendRecord(['37.764518', '-122.432913']);
  CDS.AppendRecord(['37.763435', '-122.434173']);
  CDS.AppendRecord(['37.762847', '-122.434953']);
  CDS.AppendRecord(['37.762291', '-122.435935']);
  CDS.AppendRecord(['37.762224', '-122.436074']);
  CDS.AppendRecord(['37.761957', '-122.436892']);
  CDS.AppendRecord(['37.761652', '-122.438886']);
  CDS.AppendRecord(['37.761284', '-122.439955']);
  CDS.AppendRecord(['37.76121', '-122.440068']);
  CDS.AppendRecord(['37.761064', '-122.44072']);
  CDS.AppendRecord(['37.76104', '-122.441411']);
  CDS.AppendRecord(['37.761048', '-122.442324']);
  CDS.AppendRecord(['37.760851', '-122.443118']);
  CDS.AppendRecord(['37.759977', '-122.444591']);
  CDS.AppendRecord(['37.759913', '-122.444698']);
  CDS.AppendRecord(['37.759623', '-122.445065']);
  CDS.AppendRecord(['37.758902', '-122.445158']);
  CDS.AppendRecord(['37.758428', '-122.44457']);
  CDS.AppendRecord(['37.757687', '-122.44334']);
  CDS.AppendRecord(['37.757583', '-122.44324']);
  CDS.AppendRecord(['37.757019', '-122.442787']);
  CDS.AppendRecord(['37.756603', '-122.442322']);
  CDS.AppendRecord(['37.75638', '-122.441602']);
  CDS.AppendRecord(['37.75579', '-122.441382']);
  CDS.AppendRecord(['37.754493', '-122.442133']);
  CDS.AppendRecord(['37.754361', '-122.442206']);
  CDS.AppendRecord(['37.753719', '-122.44265']);
  CDS.AppendRecord(['37.753096', '-122.442915']);
  CDS.AppendRecord(['37.751617', '-122.443211']);
  CDS.AppendRecord(['37.751496', '-122.443246']);
  CDS.AppendRecord(['37.750733', '-122.443428']);
  CDS.AppendRecord(['37.750126', '-122.443536']);
  CDS.AppendRecord(['37.750103', '-122.443784']);
  CDS.AppendRecord(['37.75039', '-122.44401']);
  CDS.AppendRecord(['37.750448', '-122.444013']);
  CDS.AppendRecord(['37.750536', '-122.44404']);
  CDS.AppendRecord(['37.750493', '-122.444141']);
  CDS.AppendRecord(['37.790859', '-122.402808']);
  CDS.AppendRecord(['37.790864', '-122.402768']);
  CDS.AppendRecord(['37.790995', '-122.402539']);
  CDS.AppendRecord(['37.791148', '-122.402172']);
  CDS.AppendRecord(['37.791385', '-122.401312']);
  CDS.AppendRecord(['37.791405', '-122.400776']);
  CDS.AppendRecord(['37.791288', '-122.400528']);
  CDS.AppendRecord(['37.791113', '-122.400441']);
  CDS.AppendRecord(['37.791027', '-122.400395']);
  CDS.AppendRecord(['37.791094', '-122.400311']);
  CDS.AppendRecord(['37.791211', '-122.400183']);
  CDS.AppendRecord(['37.79106', '-122.399334']);
  CDS.AppendRecord(['37.790538', '-122.398718']);
  CDS.AppendRecord(['37.790095', '-122.398086']);
  CDS.AppendRecord(['37.789644', '-122.39736']);
  CDS.AppendRecord(['37.789254', '-122.396844']);
  CDS.AppendRecord(['37.788855', '-122.396397']);
  CDS.AppendRecord(['37.788483', '-122.395963']);
  CDS.AppendRecord(['37.788015', '-122.395365']);
  CDS.AppendRecord(['37.787558', '-122.394735']);
  CDS.AppendRecord(['37.787472', '-122.394323']);
  CDS.AppendRecord(['37.78763', '-122.394025']);
  CDS.AppendRecord(['37.787767', '-122.393987']);
  CDS.AppendRecord(['37.787486', '-122.394452']);
  CDS.AppendRecord(['37.786977', '-122.395043']);
  CDS.AppendRecord(['37.786583', '-122.395552']);
  CDS.AppendRecord(['37.78654', '-122.39561']);
  CDS.AppendRecord(['37.786516', '-122.395659']);
  CDS.AppendRecord(['37.786378', '-122.395707']);
  CDS.AppendRecord(['37.786044', '-122.395362']);
  CDS.AppendRecord(['37.785598', '-122.394715']);
  CDS.AppendRecord(['37.785321', '-122.394361']);
  CDS.AppendRecord(['37.785207', '-122.394236']);
  CDS.AppendRecord(['37.785751', '-122.394062']);
  CDS.AppendRecord(['37.785996', '-122.393881']);
  CDS.AppendRecord(['37.786092', '-122.39383']);
  CDS.AppendRecord(['37.785998', '-122.393899']);
  CDS.AppendRecord(['37.785114', '-122.394365']);
  CDS.AppendRecord(['37.785022', '-122.394441']);
  CDS.AppendRecord(['37.784823', '-122.394635']);
  CDS.AppendRecord(['37.784719', '-122.394629']);
  CDS.AppendRecord(['37.785069', '-122.394176']);
  CDS.AppendRecord(['37.7855', '-122.39365']);
  CDS.AppendRecord(['37.78577', '-122.393291']);
  CDS.AppendRecord(['37.785839', '-122.393159']);
  CDS.AppendRecord(['37.782651', '-122.400628']);
  CDS.AppendRecord(['37.782616', '-122.400599']);
  CDS.AppendRecord(['37.782702', '-122.40047']);
  CDS.AppendRecord(['37.782915', '-122.400192']);
  CDS.AppendRecord(['37.783137', '-122.399887']);
  CDS.AppendRecord(['37.783414', '-122.399519']);
  CDS.AppendRecord(['37.783629', '-122.399237']);
  CDS.AppendRecord(['37.783688', '-122.399157']);
  CDS.AppendRecord(['37.783716', '-122.399106']);
  CDS.AppendRecord(['37.783798', '-122.399072']);
  CDS.AppendRecord(['37.783997', '-122.399186']);
  CDS.AppendRecord(['37.784271', '-122.399538']);
  CDS.AppendRecord(['37.784577', '-122.399948']);
  CDS.AppendRecord(['37.784828', '-122.40026']);
  CDS.AppendRecord(['37.784999', '-122.400477']);
  CDS.AppendRecord(['37.785113', '-122.400651']);
  CDS.AppendRecord(['37.785155', '-122.400703']);
  CDS.AppendRecord(['37.785192', '-122.400749']);
  CDS.AppendRecord(['37.785278', '-122.400839']);
  CDS.AppendRecord(['37.785387', '-122.400857']);
  CDS.AppendRecord(['37.785478', '-122.40089']);
  CDS.AppendRecord(['37.785526', '-122.401022']);
  CDS.AppendRecord(['37.785598', '-122.401148']);
  CDS.AppendRecord(['37.785631', '-122.401202']);
  CDS.AppendRecord(['37.78566', '-122.401267']);
  CDS.AppendRecord(['37.803986', '-122.426035']);
  CDS.AppendRecord(['37.804102', '-122.425089']);
  CDS.AppendRecord(['37.804211', '-122.424156']);
  CDS.AppendRecord(['37.803861', '-122.423385']);
  CDS.AppendRecord(['37.803151', '-122.423214']);
  CDS.AppendRecord(['37.802439', '-122.423077']);
  CDS.AppendRecord(['37.80174', '-122.422905']);
  CDS.AppendRecord(['37.801069', '-122.422785']);
  CDS.AppendRecord(['37.800345', '-122.422649']);
  CDS.AppendRecord(['37.799633', '-122.422603']);
  CDS.AppendRecord(['37.79975', '-122.4217']);
  CDS.AppendRecord(['37.799885', '-122.420854']);
  CDS.AppendRecord(['37.799209', '-122.420607']);
  CDS.AppendRecord(['37.795656', '-122.400395']);
  CDS.AppendRecord(['37.795203', '-122.400304']);
  CDS.AppendRecord(['37.778738', '-122.415584']);
  CDS.AppendRecord(['37.778812', '-122.415189']);
  CDS.AppendRecord(['37.778824', '-122.415092']);
  CDS.AppendRecord(['37.778833', '-122.414932']);
  CDS.AppendRecord(['37.778834', '-122.414898']);
  CDS.AppendRecord(['37.77874', '-122.414757']);
  CDS.AppendRecord(['37.778501', '-122.414433']);
  CDS.AppendRecord(['37.778182', '-122.414026']);
  CDS.AppendRecord(['37.777851', '-122.413623']);
  CDS.AppendRecord(['37.777486', '-122.413166']);
  CDS.AppendRecord(['37.777109', '-122.412674']);
  CDS.AppendRecord(['37.776743', '-122.412186']);
  CDS.AppendRecord(['37.77644', '-122.4118']);
  CDS.AppendRecord(['37.776295', '-122.411614']);
  CDS.AppendRecord(['37.776158', '-122.41144']);
  CDS.AppendRecord(['37.775806', '-122.410997']);
  CDS.AppendRecord(['37.775422', '-122.410484']);
  CDS.AppendRecord(['37.775126', '-122.410087']);
  CDS.AppendRecord(['37.775012', '-122.409854']);
  CDS.AppendRecord(['37.775164', '-122.409573']);
  CDS.AppendRecord(['37.775498', '-122.40918']);
  CDS.AppendRecord(['37.775868', '-122.40873']);
  CDS.AppendRecord(['37.776256', '-122.40824']);
  CDS.AppendRecord(['37.776519', '-122.407928']);
  CDS.AppendRecord(['37.776539', '-122.407904']);
  CDS.AppendRecord(['37.776595', '-122.407854']);
  CDS.AppendRecord(['37.776853', '-122.407547']);
  CDS.AppendRecord(['37.777234', '-122.407087']);
  CDS.AppendRecord(['37.777644', '-122.406558']);
  CDS.AppendRecord(['37.778066', '-122.406017']);
  CDS.AppendRecord(['37.778468', '-122.405499']);
  CDS.AppendRecord(['37.778866', '-122.404995']);
  CDS.AppendRecord(['37.779295', '-122.404455']);
  CDS.AppendRecord(['37.779695', '-122.40395']);
  CDS.AppendRecord(['37.779982', '-122.403584']);
  CDS.AppendRecord(['37.780295', '-122.403223']);
  CDS.AppendRecord(['37.780664', '-122.402766']);
  CDS.AppendRecord(['37.781043', '-122.402288']);
  CDS.AppendRecord(['37.781399', '-122.401823']);
  CDS.AppendRecord(['37.781727', '-122.401407']);
  CDS.AppendRecord(['37.781853', '-122.401247']);
  CDS.AppendRecord(['37.781894', '-122.401195']);
  CDS.AppendRecord(['37.782076', '-122.400977']);
  CDS.AppendRecord(['37.782338', '-122.400603']);
  CDS.AppendRecord(['37.782666', '-122.400133']);
  CDS.AppendRecord(['37.783048', '-122.399634']);
  CDS.AppendRecord(['37.78345', '-122.399198']);
  CDS.AppendRecord(['37.783791', '-122.398998']);
  CDS.AppendRecord(['37.784177', '-122.398959']);
  CDS.AppendRecord(['37.784388', '-122.398971']);
  CDS.AppendRecord(['37.784404', '-122.399128']);
  CDS.AppendRecord(['37.784586', '-122.399524']);
  CDS.AppendRecord(['37.784835', '-122.399927']);
  CDS.AppendRecord(['37.785116', '-122.400307']);
  CDS.AppendRecord(['37.785282', '-122.400539']);
  CDS.AppendRecord(['37.785346', '-122.400692']);
  CDS.AppendRecord(['37.765769', '-122.407201']);
  CDS.AppendRecord(['37.76579', '-122.407414']);
  CDS.AppendRecord(['37.765802', '-122.407755']);
  CDS.AppendRecord(['37.765791', '-122.408219']);
  CDS.AppendRecord(['37.765763', '-122.408759']);
  CDS.AppendRecord(['37.765726', '-122.409348']);
  CDS.AppendRecord(['37.765716', '-122.409882']);
  CDS.AppendRecord(['37.765708', '-122.410202']);
  CDS.AppendRecord(['37.765705', '-122.410253']);
  CDS.AppendRecord(['37.765707', '-122.410369']);
  CDS.AppendRecord(['37.765692', '-122.41072']);
  CDS.AppendRecord(['37.765699', '-122.411215']);
  CDS.AppendRecord(['37.765687', '-122.411789']);
  CDS.AppendRecord(['37.765666', '-122.412373']);
  CDS.AppendRecord(['37.765598', '-122.412883']);
  CDS.AppendRecord(['37.765543', '-122.413039']);
  CDS.AppendRecord(['37.765532', '-122.413125']);
  CDS.AppendRecord(['37.7655', '-122.413553']);
  CDS.AppendRecord(['37.765448', '-122.414053']);
  CDS.AppendRecord(['37.765388', '-122.414645']);
  CDS.AppendRecord(['37.765323', '-122.41525']);
  CDS.AppendRecord(['37.765303', '-122.415847']);
  CDS.AppendRecord(['37.765251', '-122.416439']);
  CDS.AppendRecord(['37.765204', '-122.41702']);
  CDS.AppendRecord(['37.765172', '-122.417556']);
  CDS.AppendRecord(['37.765164', '-122.418075']);
  CDS.AppendRecord(['37.765153', '-122.418618']);
  CDS.AppendRecord(['37.765136', '-122.419112']);
  CDS.AppendRecord(['37.765129', '-122.419378']);
  CDS.AppendRecord(['37.765119', '-122.419481']);
  CDS.AppendRecord(['37.7651', '-122.419852']);
  CDS.AppendRecord(['37.765083', '-122.420349']);
  CDS.AppendRecord(['37.765045', '-122.42093']);
  CDS.AppendRecord(['37.764992', '-122.421481']);
  CDS.AppendRecord(['37.76498', '-122.421695']);
  CDS.AppendRecord(['37.764993', '-122.421843']);
  CDS.AppendRecord(['37.764986', '-122.422255']);
  CDS.AppendRecord(['37.764975', '-122.422823']);
  CDS.AppendRecord(['37.764939', '-122.423411']);
  CDS.AppendRecord(['37.764902', '-122.424014']);
  CDS.AppendRecord(['37.764853', '-122.424576']);
  CDS.AppendRecord(['37.764826', '-122.424922']);
  CDS.AppendRecord(['37.764796', '-122.425375']);
  CDS.AppendRecord(['37.764782', '-122.425869']);
  CDS.AppendRecord(['37.764768', '-122.426089']);
  CDS.AppendRecord(['37.764766', '-122.426117']);
  CDS.AppendRecord(['37.764723', '-122.426276']);
  CDS.AppendRecord(['37.764681', '-122.426649']);
  CDS.AppendRecord(['37.782012', '-122.4042']);
  CDS.AppendRecord(['37.781574', '-122.404911']);
  CDS.AppendRecord(['37.781055', '-122.405597']);
  CDS.AppendRecord(['37.780479', '-122.406341']);
  CDS.AppendRecord(['37.779996', '-122.406939']);
  CDS.AppendRecord(['37.779459', '-122.407613']);
  CDS.AppendRecord(['37.778953', '-122.408228']);
  CDS.AppendRecord(['37.778409', '-122.408839']);
  CDS.AppendRecord(['37.777842', '-122.409501']);
  CDS.AppendRecord(['37.777334', '-122.410181']);
  CDS.AppendRecord(['37.776809', '-122.410836']);
  CDS.AppendRecord(['37.77624', '-122.411514']);
  CDS.AppendRecord(['37.775725', '-122.412145']);
  CDS.AppendRecord(['37.77519', '-122.412805']);
  CDS.AppendRecord(['37.774672', '-122.413464']);
  CDS.AppendRecord(['37.774084', '-122.414186']);
  CDS.AppendRecord(['37.773533', '-122.413636']);
  CDS.AppendRecord(['37.773021', '-122.413009']);
  CDS.AppendRecord(['37.772501', '-122.412371']);
  CDS.AppendRecord(['37.771964', '-122.411681']);
  CDS.AppendRecord(['37.771479', '-122.411078']);
  CDS.AppendRecord(['37.770992', '-122.410477']);
  CDS.AppendRecord(['37.770467', '-122.409801']);
  CDS.AppendRecord(['37.77009', '-122.408904']);
  CDS.AppendRecord(['37.769657', '-122.408103']);
  CDS.AppendRecord(['37.769132', '-122.407276']);
  CDS.AppendRecord(['37.768564', '-122.406469']);
  CDS.AppendRecord(['37.76798', '-122.405745']);
  CDS.AppendRecord(['37.76738', '-122.405299']);
  CDS.AppendRecord(['37.766604', '-122.405297']);
  CDS.AppendRecord(['37.765838', '-122.4052']);
  CDS.AppendRecord(['37.765139', '-122.405139']);
  CDS.AppendRecord(['37.764457', '-122.405094']);
  CDS.AppendRecord(['37.763716', '-122.405142']);
  CDS.AppendRecord(['37.762932', '-122.405398']);
  CDS.AppendRecord(['37.762126', '-122.405813']);
  CDS.AppendRecord(['37.761344', '-122.406215']);
  CDS.AppendRecord(['37.760556', '-122.406495']);
  CDS.AppendRecord(['37.759732', '-122.406484']);
  CDS.AppendRecord(['37.75891', '-122.406228']);
  CDS.AppendRecord(['37.758182', '-122.405695']);
  CDS.AppendRecord(['37.757676', '-122.405118']);
  CDS.AppendRecord(['37.757039', '-122.404346']);
  CDS.AppendRecord(['37.756335', '-122.403719']);
  CDS.AppendRecord(['37.755503', '-122.403406']);
  CDS.AppendRecord(['37.754665', '-122.403242']);
  CDS.AppendRecord(['37.753837', '-122.403172']);
  CDS.AppendRecord(['37.752986', '-122.403112']);
  CDS.AppendRecord(['37.751266', '-122.403355']);
  CDS.Open;
  CDS.First;

  map.APIKeys := UniServerModule.APIKeys;
  map.InitMap;
end;

initialization
  RegisterClass(TfrmHeatMap);

end.
