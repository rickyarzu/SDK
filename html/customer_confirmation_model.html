<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Conferma Prenotazione </title>
    <script src="https://kit.fontawesome.com/face0a2964.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link href="https://cdn.januaservers.com/jquery.showmessage/assets/css/showMessage.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>    
    
    <div class="modal fade" id="exampleModalLive" tabindex="-1" aria-labelledby="exampleModalLiveLabel" aria-hidden="true" style="display: none;">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLiveLabel">Contatta il Servizio</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p style = "text-align: center;">Puoi contattare il Servizio con WhatsApp eMail o Chiamarci per Telefono</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-info"><i class="fa-regular fa-envelope"></i> E-Mail</button>
            <button type="button" class="btn btn-success"><i class="fa-brands fa-whatsapp"></i> WhatsApp</button>
            <button type="button" class="btn btn-primary"><i class="fa-solid fa-phone"></i> Telefona</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="fa-solid fa-door-closed"></i>Chiudi</button>
          </div>
        </div>
      </div>
    </div>


    <div class="container-fluid">
      <!-- Contenitore dell'immagine del Logo e Test -->
      <div class="row justify-content-center">
        <div class="col col-md-7 align-self-center">
          <img src="https://cdn.januaservers.com/images/pikapp_logo5.png" class="img-fluid" alt="Pikapp Logo">
          <p>&nbsp;</p>
          <h3 style="text-align:center; color: rgb(0, 0, 128); font-size: 20px;">
            Informazioni Prenotazione Ritiro Veicolo 
          </h3>
          <p style="text-align:justify;">
            <span style="font-family:Arial;">
              Confermate prenotazione ritiro veicolo targato </span><b><span style="color: #548dd4"><span style="font-family:Arial;">SM123FF</span></span></b>
            <span style="font-family:Arial;"> presso <span style="color: #00b050"><b>Viale Ortles, 5, 20139 Milano MI, Italia</b></span> in data </span><span style="color: #ff0000"><b><span style="font-family:Arial;">26/03/2024</span></b></span><span style="font-family: 'Arial'"><span style="font-family: 'Arial'"> alle ore <b><span style="color: #ff0000">10:30</span></b> </span><span style="font-family: 'Arial'"> con riconsegna in data</span></span><span style="color: #ff0000"><b><span style="font-family: 'Arial'"> 27/03/2024 </span></b><span style="color: #000000"><span style="font-family: 'Arial'">alle</span><b><span style="font-family: 'Arial'"> </span></b><span style="font-family: 'Arial'">ore</span></span><b><span style="font-family: 'Arial'"> 15:30&nbsp; </span></b></span><span style="font-family:Arial;">presso <b><span style="color: #00b050">Viale Ortles, 5, 20139 Milano MI, Italia</span></b><span style="color: #ff0000">
              </span>. 
                Il Ritiro sarà effettuato per conto dell'azienda <b><span style="color: #00b050">Carrozzeria Majno</span></b>. Per confermare selezionate le date di ritiro e consegna e premete il pulsante in basso.
              </span>
          </p>
        </div>
        <!-- Fine Contenitore dell'immagine del Logo e Test -->
        
        <!-- Inizio Input Form frmCheckConfirmation action actual points to the same page-->
        <form id="frmCheckConfirmation" action="/">
          <!-- Hidden Input che Ritorna il valore della GUID ricevuta  -->
          <input type="hidden" id="guid" value="$$jguid$$">
          <div class="row justify-content-center">
            <div class="col col-md-7 align-self-center">
                <div class="row justify-content-center">
                  <h3 style="text-align:center; color: rgb(0, 0, 128); font-size: 18px;">
                    Requisiti Necessari
                  </h3>
                </div>
              
                <div class="row justify-content-center mt-2">
                  <div class="col-10 col-md-8 align-self-center">
                    <div id="myDiv">Assicurazione in periodo di Validità</div>
                  </div>
                  <div class="col col-md-2 align-self-center">
                    <div class="form-check form-switch">
                      <input class="form-check-input" style="transform: scale(1.8);" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                    </div>
                  </div>
                </div>
              
                <div class="row justify-content-center mt-2">
                  <div class="col-10 col-md-8 align-self-center">
                    Veicolo in Regola con Revisione
                  </div>
                  <div class="col-2 align-self-center">
                    <div class="form-check form-switch">
                      <input class="form-check-input" style="transform: scale(1.8);" type="checkbox" role="switch" id="ckbInspection">
                    </div>
                  </div> 
                </div>
              
                <div class="row justify-content-center mt-4">
                  <h3 style="text-align:center; color: rgb(0, 0, 128); font-size: 18px;">
                    Conferma Ritiro$$Restituzione$$
                  </h3>
                </div>
              
                <div class="row justify-content-center mt-2">
                  <div class="col-10 col-md-8 align-self-center">
                    Conferma Ritiro Veicolo 26/03/24 - 10:30
                  </div>
                  <div class="col-2 align-self-center">
                    <div class="form-check form-switch">
                      <input class="form-check-input" style="transform: scale(1.8);" type="checkbox" role="switch" id="ckbPickup">
                    </div>
                  </div>
                </div>
                
                <!-- Box restituzione potrebbe essere invisibile -->
                <div class="row $$return_visible$$ justify-content-center mt-2">
                  <div class="col-10 col-md-8 align-self-center">
                    Conferma Restituzione Veicolo 27/03/24 - 15:30
                  </div>
                  <div class="col-2 align-self-center">
                    <div class="form-check form-switch">
                      <input class="form-check-input" style="transform: scale(1.8);" type="checkbox" role="switch" id="ckbDelivery">
                    </div>
                  </div>
                </div>
              
                <!-- Bottoni di conferma -->
                <div class="row justify-content-center mt-4">
                  <div class="col col-md-4 align-self-center">
                    <button class="btn btn-success w-100" id="btnContract" >
                      Vedi Contratto
                    </button>
                  </div>
                  <div class="col col-md-4 align-self-center">
                    <button type="submit" class="btn btn-primary w-100" id="btnConfirm">
                      Conferma
                    </button>
                  </div>
                </div>
              
                <!-- Bottoni di contatto servizio annullamento -->
                <div class="row justify-content-center mt-2">
                  <div class="col col-md-8 align-self-center">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-danger w-100" data-bs-toggle="modal" data-bs-target="#exampleModalLive"> 
                      Contatta il Servizio
                    </button>
                  </div>
                </div>
              
            </div>
          </div>
        </form>  
        
      </div>
    </div>
    
    
    <script src="https://cdn.januaservers.com/jquery.showmessage/assets/js/prettify/prettify.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://cdn.januaservers.com/jquery.showmessage/assets/js/jquery.showMessage.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
      
      jQuery(document).ready(function() {
        
        //prettyPrint();
        jQuery('a[rel="tooltip"]').tooltip();
        
        // ClickMe Code Sample
        jQuery('#clickMe').click(function() {
          $('body').showMessage({thisMessage: ['Hey! Something bit me!'], zIndex: 1031});
          return false;
        });
        
        jQuery('#frmCheckConfirmation').on('submit', function() {
          
          var vCount = 0;
          
          var rMessage = [], rClass='success';
          
          var vMessageText = '';
          
          if ($('input[name="ckbInspection"]').is(':checked'))  {vCount++} else {vMessageText = 'Occorre confermare che il veicolo sia in regola con la revisione'} 
          
          if ($('input[name="ckbPickup"]').is(':checked'))  {vCount++} else {vMessageText = vMessageText + ' Occorre confermare data/ora ritiro veicolo'} 
          
          if ($('input[name="ckbDelivery"]').is(':checked'))  {vCount++} else {vMessageText = vMessageText + 'Occorre confermare data/ora restituzione veicolo'} 
          
          if(vCount == 3 ) //
            {
              // checked
              rMessage.push('Grazie della Conferma');   
              
              // Get some values from elements on the page:
              // Form is extactly the 'caller' of the function 
              var $form = $( this ),
              // Term is the guid input 
              term = $form.find( "input[name='guid']" ).val(),
              // Url is the Form Action
              url = $form.attr( "action" );
              
              console.log( url ); 
              console.log( term ); 
              
              // Send the data using post
              var posting = $.post( url, { jguid: term } );
              
              // Put the results in a div
              posting.done(function( data ) {
                var content = $( data ).find( "#content" );
                console.log( data.jguid ); // same guid sent
                console.log( data.result ); // result of function true expected
              } );

              // checked
              rMessage.push('Grazie della Conferma');            
            }
          else
            {
              // unchecked
              rMessage.push(vMessageText);
              rClass='fail'
            }
          
          
          
          
        
          jQuery('body').showMessage({thisMessage: rMessage, zIndex: 1031, className: rClass});
          return false;
        });

        
        jQuery('a.sMtooltip').mouseenter(function() {
          returnMessage = [jQuery(this).attr('title')];
          $.showMessage({
            thisMessage: returnMessage,
            className: 'success',
            opacity: .95,
            displayNavigation: false,
            autoClose: true,
            delayTime: 3000,
            zIndex: 1031
          });
          return false;
        }).click(function() {return false;});
        
      });
    </script>
    

    
    <script>
      // Attach a submit handler to the form
      //var aForm =  $('#frmCheckConfirmation'); 
  

      //aForm.on("submit", function( event ) {
        
        // Stop form from submitting normally
        //event.preventDefault();
        
        
        // Get some values from elements on the page:
        /*
        var $form = $( this ),
        term = $form.find( "input[name='s']" ).val(),
        url = $form.attr( "action" );
        */
        
        
        /*
        var rMessage = [],rClass='success';
        
        if($('input[name="ckbPickup"]').is(':checked') && $('input[name="ckbDelivery"]').is(':checked') )
          {
            // checked
            rMessage.push('Tutto OK');
          }
        else
          {
            // unchecked
            rMessage.push('Non ci siamo');
          }
        */
        
        // Send the data using post
        // var posting = $.post( url, { s: term } );
        
        // Put the results in a div
        /*
        posting.done(function( data ) {
          var content = $( data ).find( "#content" );
          $( "#result" ).empty().append( content );
        } );
          
      } );
      */

    </script>    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>






      